

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>rf_classifier User Guide &mdash; rf_classifier 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Admin Guide" href="../admin_guide/index.html" />
    <link rel="prev" title="Welcome to rf_classifier’s documentation!" href="../index.html" />
    <link href="../_static/rtd_custom.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> rf_classifier
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">User Guide</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../admin_guide/index.html">Admin Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/api/index.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Relase Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../links.html">Links</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">rf_classifier</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>rf_classifier User Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/user_guide/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rf-classifier-user-guide">
<h1>rf_classifier User Guide<a class="headerlink" href="#rf-classifier-user-guide" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>The rf_classifier appilcation is a command line tool for analyzing C100 waveforms captured at the time of a fault.  The
application leverages a “pluggable” module architecture that allows for the user to access different models to determine
which cavity faulted and which type of fault occurred.</p>
<p>To get application name and version:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>rf_classifier
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt; rf_classifier
rf_classifier v0.1
</pre></div>
</div>
<p>To get help messages:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>rf_classifier -h [list_models|analyze]
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt; rf_classifier -h
usage: main.py [-h] [-c CONFIG_FILE] [-M MODELS_DIR] {list_models,analyze} ...

rf_classifier v0.1 A program that determines the fault type and offending
cavity based on a waveform data from a C100 fault event

positional arguments:
  {list_models,analyze}
                        commands
    list_models         List out available models
    analyze             Analyze a fault event

optional arguments:
  -h, --help            show this help message and exit
  -c CONFIG_FILE, --config CONFIG_FILE
                        Specify config file (default: cfg/config.yaml)
  -M MODELS_DIR, --models_dir MODELS_DIR
                        Specify the directory contain the models package
</pre></div>
</div>
<p>To list out available models:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>rf_classifier list_models
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt; rf_classifier list_models
random_forest_v0_1 (default)
</pre></div>
</div>
<p>To get detailed information about a single model:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>rf_classifier list_models -v &lt;model_name&gt;
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt; rf_classifier list_models -v random_forest_v0_1
random_forest_v0_1 (default)
Release Date:  July 30, 2019
Cavity Labels: [&#39;multiple&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;]
Fault Labels:  [&#39;E_Quench&#39;, &#39;Microphonics&#39;, &#39;Quench&#39;, &#39;Single Cav Turn off&#39;, &#39;Multi Cav Turn off&#39;]
Brief:         Uses random forests ensemble method for analysis
Details:
  This model uses random forest models to identify the faulted cavity and fault type of a C100 event.

  This model is based on work done by Chris Tennant, Tom Powers, etc. and represents the initial model used to
  identify which cavity and fault type is associated with a C100 fault event.  Any individual cavity can be
  identified as the offending cavity.  Any collection of multiple cavities faulting at the same time are given the
  generic label of &#39;multiple&#39;.  The following fault types may be identified by the model: E_Quench, Microphonics,
  Quench, &#39;Single Cav Turn off, and Multi-cav Turn Off.

  Additional documentation is available in the package docs folder.
</pre></div>
</div>
<p>To analyze a fault event using the default model.  Note, the path should include the date and time componenets.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>rf_classifier analyze /path/to/event/date/time/
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt; rf_classifier analyze /usr/opsdata/waveforms/data/rf/1L26/2018_04_29/193409.3
Cavity     Fault               Zone     Timestamp              Model                Cav-Conf Fault-Conf
8          Single Cav Turn off 1L26     2018-04-29 19:34:09.3  random_forest_v0_1   0.99     0.79
</pre></div>
</div>
<p>To analyze a fault event using a non-default model with JSON output.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>rf_classifier analyze -m &lt;model_name&gt; -o json /path/to/event/date/time
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt; rf_classifier analyze -m random_forest_v0_1 -o json /data/waveforms/data/rf/1L26/2018_04_29/193409.3
[
  {
    &quot;location&quot;: &quot;1L26&quot;,
    &quot;timestamp&quot;: &quot;2018-04-29 19:34:09.3&quot;,
    &quot;cavity-label&quot;: &quot;8&quot;,
    &quot;cavity-confidence&quot;: 0.988,
    &quot;fault-label&quot;: &quot;Single Cav Turn off&quot;,
    &quot;fault-confidence&quot;: 0.788
  }
]
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../admin_guide/index.html" class="btn btn-neutral float-right" title="Admin Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral float-left" title="Welcome to rf_classifier’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Adam Carpenter

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>